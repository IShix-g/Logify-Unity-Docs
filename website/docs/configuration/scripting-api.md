---
sidebar_position: 2
---

# ğŸš€ Scripting API (Logi Class)

`Logify` ã®ã™ã¹ã¦ã®ä¸»è¦æ©Ÿèƒ½ã«ã¯ã€`Logi` ã‚¯ãƒ©ã‚¹ã‚’é€šã˜ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

:::info åå‰ç©ºé–“
```csharp
using Logify;
```
:::

## ğŸ”¹ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

é€šå¸¸ã€åˆæœŸåŒ–ã¯è¨­å®šã«åŸºã¥ãè‡ªå‹•ã§è¡Œã‚ã‚Œã¾ã™ãŒã€æ‰‹å‹•ã§åˆ¶å¾¡ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜                                      |
| --- |-----------------------------------------|
| **`Initialize()`** | Logifyã‚’æ‰‹å‹•ã§åˆæœŸåŒ–ã—ã¾ã™ï¼ˆ`Automatic` ãƒ¢ãƒ¼ãƒ‰ä»¥å¤–ã§ä½¿ç”¨ï¼‰ã€‚ |
| **`Release()`** | Logifyã®ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã—ã¾ã™ã€‚é€šå¸¸ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚           |
> **ğŸ’¡ Tips:** `Automatic`ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€Initializeã‚’å®šç¾©ã§ãã¾ã›ã‚“ã€‚`Manual`ãƒ¢ãƒ¼ãƒ‰ã¸ã®åˆ‡ã‚Šæ›¿ãˆã¯ã€[Settings - Activation Scope](./setting.md)ã‚ˆã‚Šã”ç¢ºèªãã ã•ã„ã€‚
```csharp
Logi.Initialize();
```

## ğŸ”¹ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãƒ»UIæ“ä½œ

ãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç”»é¢ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰åˆ¶å¾¡ã—ã¾ã™ã€‚

| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
| --- | --- |
| **`OpenDialog()`** | ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ãã¾ã™ã€‚ |
| **`CloseDialog()`** | é–‹ã„ã¦ã„ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‰ã˜ã¾ã™ã€‚ |
| **`OpenPopup(LogifyPopupSetting)`** | ç‹¬è‡ªã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ |
| **`OpenToast(string, LogifyToastType)`** | ç”»é¢ä¸‹éƒ¨ã«é€šçŸ¥ï¼ˆãƒˆãƒ¼ã‚¹ãƒˆï¼‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚`ShowLog/Warning/Error` ã‚‚åˆ©ç”¨å¯èƒ½ã§ã™ã€‚ |

> **ğŸ’¡ Tips:** `OpenToast`ã¯ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹é–“ã®ã¿ç”»é¢ä¸Šã«ç¾ã‚Œã¾ã™ã€‚

```csharp
// ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®è¡¨ç¤º
 Logi.OpenPopup(new LogifyPopupSetting
 {
     Title = "ç¢ºèª",
     Message = "ã™ã¹ã¦ã®ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ",
     ConfirmButton = new LogifyPopupButtonSetting
     {
         Text = "å‰Šé™¤ã™ã‚‹",
         OnClick = () => DoDelete()
     },
     CancelButton = new LogifyPopupButtonSetting
     {
         Text = "æˆ»ã‚‹"
     }
 });

 // é€šçŸ¥ã®è¡¨ç¤º
Logi.OpenToast("ãƒ‡ãƒ¼ã‚¿ã®åŒæœŸãŒå®Œäº†ã—ã¾ã—ãŸã€‚", LogifyToastType.Information);
```

## ğŸ”¹ ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²

ç‹¬è‡ªã®ãƒ‡ãƒãƒƒã‚°ç”¨ãƒœã‚¿ãƒ³ã‚„ã‚³ãƒãƒ³ãƒ‰ã‚’ Logify ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«è¿½åŠ ã—ã¾ã™ã€‚

| ãƒ¡ã‚½ãƒƒãƒ‰                            | èª¬æ˜                                 |
|---------------------------------|------------------------------------|
| **`Register(instance/type)`**   | æŒ‡å®šã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚„ã‚¯ãƒ©ã‚¹å†…ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ç™»éŒ²ã—ã¾ã™ã€‚ |
| **`Unregister(instance/type)`** | ç™»éŒ²æ¸ˆã¿ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è§£é™¤ã—ã¾ã™ã€‚                   |
| **`AddTo(instance)`**      | ç™»éŒ²è§£é™¤æ¼ã‚Œã‚’é˜²ãäº‹ãŒã§ãã¾ã™ã€‚                   |

> **ğŸ’¡ Tips:** `static` ã‚¯ãƒ©ã‚¹ã®ç™»éŒ²ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ãŒã€**æ¨å¥¨ã•ã‚Œã¾ã›ã‚“ã€‚** è©³ã—ãã¯[Staticã‚¯ãƒ©ã‚¹ã®å–ã‚Šæ‰±ã„](../custom/initialization.md#static-warning)ã‚’ã”è¦§ãã ã•ã„ã€‚

#### ç™»éŒ²ã‹ã‚‰ç™»éŒ²è§£é™¤ã¾ã§

```csharp
// ç™»éŒ²
void Awake() => Logi.Register(this, "Tests (Instance)", 1);

// å¿…ãšç ´æ£„æ™‚ã«è§£é™¤ãŒå¿…è¦ã§ã™
void OnDestroy() => Logi.Unregister(this);

[LogiButton("Test Button", "Execute")]
void Test() => Debug.Log("Test");
// ...
```

#### `AddTo`ã®åˆ©ç”¨

```csharp
// UniRxãªã©ã®Observableã¨åŒæ§˜ã®æ„Ÿè¦šã§ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç´ä»˜ã‘å¯èƒ½
void Awake()
    => Logi.Register(this, "Tests (Instance)", 1)
       .AddTo(this); // è¿½åŠ 

// è‡ªå‹•ã§ç ´æ£„æ™‚ã«ç™»éŒ²è§£é™¤ã•ã‚Œã‚‹ã®ã§å¿…è¦ãªã—
// void OnDestroy() => Logi.Unregister(this);
// ...
```

#### `static` ã‚¯ãƒ©ã‚¹ã®ç™»éŒ²

```csharp
Logi.Register(typeof(TestStaticClass), "Tests (static)", 2);
```

## ğŸ”¹ ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®å–å¾—

ãƒ¡ãƒ¢ãƒªä¸Šã«è“„ç©ã•ã‚ŒãŸãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªã¸ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
| --- | --- |
| **`GetLogEntries(err, warn, info)`** | ç¾åœ¨ä¿æŒã•ã‚Œã¦ã„ã‚‹ãƒ­ã‚°ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚ç‹¬è‡ªã®ãƒ¬ãƒãƒ¼ãƒˆé€ä¿¡ãƒ­ã‚¸ãƒƒã‚¯ã‚’çµ„ã¿ãŸã„å ´åˆã«æœ‰ç”¨ã§ã™ã€‚ |
> **ğŸ’¡ Tips:** ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ã§ã‚‚åˆ©ç”¨ã—ãŸã„å ´åˆã¯ã€è¨­å®šã§`Force Logging In Build`ã‚’æœ‰åŠ¹ã«ã—ã¦ãã ã•ã„ã€‚
```csharp
// å¼•æ•°ã§ã©ã®ãƒ­ã‚°ã‚’å«ã‚ã‚‹ã‹èª¿æ•´ã§ãã¾ã™ã€‚
List<ConsoleEntry> entries = Logi.GetLogEntries(showError: true, showWarning: true, showInfo: true);
// é…åˆ—ã‚’æ•´å½¢ã•ã‚ŒãŸstringã«å¤‰æ›ã§ãã¾ã™ã€‚
var formattedString = entries.ToFormattedString();
```